<!--
    Here is a starting point for the project.
    jQuery and a index.js file have been included for you.
 -->

<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>50 State Game</title>
  </head>
<body>

    <!--
    1. Implement the input element.
        You'll need to answer the the following questions (and probably more):
        1. What HTML tag inserts an input element?
        2. How do I continuously check the contents of the input element without
        the user hitting enter?
        3. How do I disable the input bar if the game is not in session?
    -->
<div class="container"></div>

<div class="cont2"></div>

<div class="cont3"></div>

<div id="log"></div>
Enter State: <input type="text" id="fname" onkeyup="myFunction()">

    <!--
    2. Implement the running list of states.
        1. What HTML will be inserted each time a user enters a correct state?
        2. How can I make sure the user can see all the states he/she has
        already entered?
        3. How will I trigger the network request to get the number of Spanish
        speakers in a state (on hover)?
        4. How will I seperate the entered states from missed states when the
        game is over if the user lost the game?
    -->

    <!--
    3. Implement the timer. This is almost all JavaScript.
    -->
    <script>
    function startTimer(duration, display) {
        //var timer = duration, minutes, seconds;
        var timer = duration, minutes, seconds;
        var x=setInterval(function () {
            minutes = parseInt(timer / 60, 10);
            seconds = parseInt(timer % 60, 10);

            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;

            display.textContent = minutes + ":" + seconds;

            if (writ2==6) {
              display.textContent = "00" + ":" + "00";
              clearTimeout(x);
              $( ".container" ).append( "<b> You win </b>" );
              $( ".container" ).append( "<b>"+"Here is your score: "+ "6/6"+ "</b>" );
                $('#fname').prop('disabled',true);
              return;
            }
            if (--timer < 0) {
              clearInterval(x);
              var missedStates=[];
              var ind;
                for (ind=0;ind<statesCap2.length;ind++) {
                  if (!alreadyseen.includes(statesCap2[ind])) {
                    missedStates.push(statesCap2[ind]);
                  }
                }
                $( ".container" ).append( "<b>"+"Here is your score: "+writ2+ "/6"+ "</b>" );
                $( ".container" ).append( "<b>"+" Here is what you missed: "+"</b>" );
                var indexx=0;
                var idt;
                  for (indexx=0;indexx<missedStates.length;indexx++){
                    idt=missedStates[indexx];
                    if (idt=="NEW YORK") {
                      idt="NEWYORK";
                      $(".cont2").append( "<p id="+idt+">"+missedStates[indexx]+ "</p>" );
                    } else if (idt=="SOUTH DAKOTA") {
                      idt="SOUTHDAKOTA";
                      $(".cont2").append( "<p id="+idt+">"+missedStates[indexx]+ "</p>" );
                    } else{
                        $(".cont2").append( "<p id="+idt+">"+missedStates[indexx]+ "</p>" );
                    }
                  //  console.log(idt);
                  }

                  //console.log($( "#missedStates[indexx]"));
                  $("#SOUTHDAKOTA").hover(function() {
                    //$( "#log" ).( "<div>114,560</div>" );
                    document.getElementById("log").innerHTML = "16,215";
                    //alert("16,215 SD")
                  }, function() {
                  document.getElementById("log").innerHTML = "";
                  }
                  );

                  $("#IDAHO").hover(function() {
                    //$( "#log" ).( "<div>114,560</div>" );
                    document.getElementById("log").innerHTML = "114,560";
                    //alert("idaho");
                  }, function() {
                  document.getElementById("log").innerHTML = "";
                  }
                  );

                  $("#HAWAII").hover(function() {
                    //$( "#log" ).( "<div>114,560</div>" );
                    document.getElementById("log").innerHTML = "25,490";
                    //alert("hawa");
                  }, function() {
                  document.getElementById("log").innerHTML = "";
                  }
                  );

                  $("#ALASKA").hover(function() {
                    //$( "#log" ).( "<div>114,560</div>" );
                    document.getElementById("log").innerHTML = "22,425";
                    //alert("alaska");
                  }, function() {
                  document.getElementById("log").innerHTML = "";
                  }
                  );

                  $("#ALABAMA").hover(function() {
                    //$( "#log" ).( "<div>114,560</div>" );
                    document.getElementById("log").innerHTML = "151,385";
                    //alert("alabama");
                  }, function() {
                  document.getElementById("log").innerHTML = "";
                  }
                  );

                  $("#NEWYORK").hover(function() {
                    //$( "#log" ).( "<div>114,560</div>" );
                    document.getElementById("log").innerHTML = "2,705,225";
                    //alert("NY");
                  }, function() {
                  document.getElementById("log").innerHTML = "";
                  }
                  );

              $('#fname').prop('disabled',true);
                //return;
            }
        }, 1000);
    }

    //when timer = 0, call a function to end the game
    function display(){
    //Assigning the variable to the user input
    	var userName = document.getElementById("userName").value;

    // to print the input here
    document.getElementById("printhere").innerHTML = userName;
    }

    window.onload = function () {
        var fiveMinutes = 20,
            display = document.querySelector('#time');
        startTimer(fiveMinutes, display);
    };
    </script>

    <!--
    4. Implement the start button. The start button must activate the input box
    to allow input start the timer.
    -->

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
    <script src="index.js" type="text/javascript"></script>
    <script type="text/javascript">
        console.log(abvMap);
    </script>
        <div>Timer <span id="time">00:20</span> </div>
</body>

</html>
